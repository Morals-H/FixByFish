<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Chatroom | Public</title>
  <meta name="description" content="A public tech focused chatroom for all" />

  <!-- GoatCounter Analytics -->
  <script data-goatcounter="https://shawn.goatcounter.com/count" async src="https://gc.zgo.at/count.js"></script>

  <!-- Styles -->
  <link rel="stylesheet" href="/data/styles.css" />
  <style>
    body { background-color:#050505; color:#fff; }
  </style>
</head>

<body>
  <noscript>
    <p>This site requires JavaScript to function properly. Please enable JavaScript in your browser settings.</p>
  </noscript>

  <div id="head"></div>
  <div id="navbar"></div>

  <div class="header-image" style="background:url('/images/headers/placeholder/Header.png') no-repeat center center/cover;"></div>

  <div class="container">
    <div class="main-content">
      <div class="txt-header-container">
        <div class="txt-header-bubble">
          <h1>Community Chat</h1>
        </div>
      </div>

      <div class="body-bubble">
        <section id="community-chat" class="content-block">

          <!-- Status / errors -->
          <div id="chatStatus" style="padding:8px 12px; font-size:0.9em; opacity:0.95;"></div>

          <div id="messages"
               style="height:420px; overflow-y:auto; border:1px solid #fff; border-radius:6px; padding:10px; background:#050505;">
          </div>

          <div class="chat-row" style="display:flex; gap:8px; padding:8px 12px;">
            <input class="chat-name" id="displayName" placeholder="name" maxlength="24"
                   style="flex:0 0 10%; min-width:120px; padding:8px; background:#050505; color:#fff; border:1px solid #fff; border-radius:4px; font:inherit;" />

            <input class="chat-msg" id="msg" placeholder="Type a message..."
                   style="flex:1; padding:8px; background:#050505; color:#fff; border:1px solid #fff; border-radius:4px; font:inherit;" />

            <button class="chat-send" id="sendBtn" type="button"
                    style="padding:8px 14px; background:#050505; border:1px solid #fff; border-radius:4px; color:#fff; cursor:pointer; font:inherit;">
              Send
            </button>
          </div>

        </section>
      </div>
    </div>

    <div id="recommended"></div>
    <div id="footer"></div>
  </div>

  <!-- Non-module scripts can stay normal -->
  <script src="/data/guiHandler.js"></script>
  <script src="/data/articleHandler.js"></script>

  <!-- IMPORTANT: chatroom.js uses import + top-level await, so it MUST be a module -->
  <script type="module" src="/data/chatroom.js"></script>
</body>
</html>